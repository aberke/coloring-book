<div class="book-section book-page" id="book-cover" ng-if="book.page.name == p.name || main.print">

    <div class="content-container-wrapper">
        <div class="content-container">

            <div id="book-title-container">

                <frieze-pattern
                    pattern-function=slantedSlices
                    draw-options='{"fill":"#3bcca6", "contain": true}'
                    group-name='p2'
                    fundamental-domain-width=55
                    fundamental-domain-height=40
                    pattern-function-options='{"levels": 1, "pathsPerLevel": 2, "allowCurved": true}'
                ></frieze-pattern>

                <frieze-pattern
                    pattern-function=slantedSlices
                    draw-options='{"contain": true}'
                    group-name='p1'
                    fundamental-domain-width=60
                    fundamental-domain-height=40
                    pattern-function-options='{"levels": 1, "pathsPerLevel": 2, "allowCurved": false}'
                ></frieze-pattern>

                <h1 id="book-title">
                    <span class="title-piece">Illustrating Group Theory</span>
                    <span class="title-piece smaller">A Coloring Book</span>
                </h1>

                <frieze-pattern
                    pattern-function=slantedSlices
                    draw-options='{"fill":"#670067", "contain": true}'
                    group-name='p1'
                    fundamental-domain-width=60
                    fundamental-domain-height=40
                    pattern-function-options='{"levels": 1, "pathsPerLevel": 2, "allowCurved": true}'
                ></frieze-pattern>
            </div>

            <p>Math is about more than just numbers. In this "book" the story of math is visual, told in shapes and patterns.</p>

            <div class="text-content-graphic">
                <div id="book-cover-graphic" class="canvas clickable"></div>
                <script type="text/javascript-lazy">

                    // draw the arrow head curve with a 'redraw' onclick
                    var sierpinskiArrowheadCurvePaper = new Raphael("book-cover-graphic");

                    // TODO? break this out and put into the fractals repo?
                    var drawSierpinskiArrowheadCurveWithBase = function(paper, centerPoint, size, options) {
                        options = options || {};
                        options.level = options.level || 4;
                        var sierpinskiTrianglePath = sierpinskiTriangle.getSierpinskiTriangle(centerPoint, size, options);
                        var sierpinskiArrowheadCurvePath = sierpinskiArrowheadCurve.getSierpinskiArrowheadCurve(centerPoint, size, options);
                        // draw sierpinskiTrianglePath as base
                        var pathBelow = paper.path(sierpinskiTrianglePath);
                        pathBelow.attr({'stroke': fractalsUtil.LIGHT_GRAY});
                        // draw with animation on top of base in darker stroke color
                        fractalsUtil.drawPathByPath(paper, sierpinskiArrowheadCurvePath);
                    }

                    var redrawSierpinskiArrowheadCurveWithBase = function() {
                        sierpinskiArrowheadCurvePaper.clear();
                        drawInCanvasCenter(sierpinskiArrowheadCurvePaper, drawSierpinskiArrowheadCurveWithBase);

                        analytics.trackRedraw("SierpinskiArrowheadCurve");
                    }
                    // add mouse-up handler to the canvas to cause redraw
                    sierpinskiArrowheadCurvePaper.canvas.addEventListener("mouseup", redrawSierpinskiArrowheadCurveWithBase);

                    drawInCanvasCenter(sierpinskiArrowheadCurvePaper, drawSierpinskiArrowheadCurveWithBase);

                </script>
            </div>

            <p>Group theory is a mathematical study with which we can explore symmetry.</p>

        </div>
    </div>
</div>
    